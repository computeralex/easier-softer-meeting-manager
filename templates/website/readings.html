{% extends 'website/base_public.html' %}

{% block title %}Readings - {{ meeting_name }}{% endblock %}

{% block content %}
<div class="content-container">
    <div class="text-center mb-4">
        <h1 class="h3">Readings</h1>
    </div>

    {% for category in categories %}
    {% if category.readings.all %}
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">
                <i class="bi bi-folder me-1"></i>
                {{ category.name }}
            </h5>
        </div>
        <div class="list-group list-group-flush">
            {% for reading in category.readings.all %}
            <a href="{% url 'website:reading_detail' slug=reading.slug %}"
               class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                <span>
                    <i class="bi bi-book me-2 text-muted"></i>
                    {{ reading.title }}
                </span>
                <i class="bi bi-chevron-right text-muted"></i>
            </a>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    {% endfor %}

    {% if uncategorized_readings %}
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">
                <i class="bi bi-book me-1"></i>
                Other Readings
            </h5>
        </div>
        <div class="list-group list-group-flush">
            {% for reading in uncategorized_readings %}
            <a href="{% url 'website:reading_detail' slug=reading.slug %}"
               class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                <span>
                    <i class="bi bi-book me-2 text-muted"></i>
                    {{ reading.title }}
                </span>
                <i class="bi bi-chevron-right text-muted"></i>
            </a>
            {% endfor %}
        </div>
    </div>
    {% endif %}

    {% if not categories and not uncategorized_readings %}
    <div class="text-center text-muted py-5">
        <i class="bi bi-book display-1"></i>
        <p class="mt-3">No readings have been added yet.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
